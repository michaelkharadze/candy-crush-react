(this["webpackJsonpcandy-crush-react"]=this["webpackJsonpcandy-crush-react"]||[]).push([[0],{26:function(n,t,r){},47:function(n,t,r){"use strict";r.r(t);var e=r(1),c=r.n(e),u=r(20),o=r.n(u),i=(r(26),r(8)),a=r(3),f=r(10),s=r.n(f),v=r(21),d=r(11),l=r.n(d),b=r(0),j=!1,p=function(n){var t=n.score,r=n.moves,c=Object(e.useState)(null),u=Object(a.a)(c,2),o=u[0],i=u[1],f=function(){var n=Object(v.a)(s.a.mark((function n(){var t,r;return s.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,l.a.get("http://localhost:8000/scores");case 2:t=n.sent,r=Object.keys(t.data.data).map((function(n){return t.data.data[n]})),i(r);case 5:case"end":return n.stop()}}),n)})));return function(){return n.apply(this,arguments)}}();Object(e.useEffect)((function(){f()}),[]);var d=null===o||void 0===o?void 0:o.sort((function(n,t){return t.score-n.score}));return Object(b.jsxs)("div",{className:"score-board",children:[Object(b.jsxs)("h2",{style:{display:"inline-block"},children:["Score: ",t]}),"\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0",Object(b.jsxs)("h2",{style:{display:"inline-block"},children:["Moves: ",r]}),Object(b.jsx)("br",{}),Object(b.jsx)("input",{style:{border:"0px"},id:"username",className:"username",placeholder:"type username"})," ",Object(b.jsx)("button",{style:{border:"0px"},onClick:function(){var n=null===d||void 0===d?void 0:d.length;if(t>d[n-1].score&&!j){var r={username:String(document.getElementById("username").value),score:t};j=!0,l.a.post("http://localhost:8000/addscore",r).then((function(n){console.log(n)})).catch((function(n){return console.log(n)})).then(f)}},children:"Save Score"}),Object(b.jsx)("br",{}),Object(b.jsx)("br",{}),Object(b.jsx)("br",{}),Object(b.jsx)("h2",{children:"High Scores:"}),null===d||void 0===d?void 0:d.map((function(n,t){return Object(b.jsx)("div",{children:Object(b.jsxs)("p",{children:[n.username,": ",n.score]})},t)}))]})},h=function(n){n.score;return!n.moves&&Object(b.jsx)("div",{style:{opacity:"75%"},className:"game-over",children:Object(b.jsx)("h2",{children:"Game Over!"})})},y=r.p+"static/media/blue-candy.73120c15.png",O=r.p+"static/media/green-candy.599f7016.png",g=r.p+"static/media/orange-candy.f106b2cd.png",m=r.p+"static/media/purple-candy.ae25b8a5.png",x=r.p+"static/media/red-candy.3658b37c.png",E=r.p+"static/media/yellow-candy.a3d87a9b.png",S=r.p+"static/media/blank.fbcb9179.png",D=function(){for(var n=[y,O,g,m,x,E],t=Object(e.useState)([]),r=Object(a.a)(t,2),c=r[0],u=r[1],o=Object(e.useState)(null),f=Object(a.a)(o,2),s=f[0],v=f[1],d=Object(e.useState)(null),l=Object(a.a)(d,2),j=l[0],D=l[1],k=Object(e.useState)(0),A=Object(a.a)(k,2),w=A[0],I=A[1],M=Object(e.useState)(20),N=Object(a.a)(M,2),B=N[0],G=N[1],J=[],C=7,H=[],L=0;L<9;L++)H[L]=L;for(var q=0;q<9;q++)J.push(C),C++,J.push(C),C+=8;var z=[];C=6;for(var F=0;F<9;F++)z.push(C),C++,z.push(C),C++,z.push(C),C+=7;var K=[];C=5;for(var P=0;P<9;P++)K.push(C),C++,K.push(C),C++,K.push(C),C++,K.push(C),C+=6;var Q=function(){for(var n=function(n){if(J.includes(n))return"continue";var t=[n,n+9,n+18,n+9+1,n+9+2],r=c[n],e=c[n]===S;return t.every((function(n){return c[n]===r&&!e}))?(I((function(n){return n+5})),t.forEach((function(n){return c[n]=S})),{v:!0}):void 0},t=0;t<63;t++){var r=n(t);if("continue"!==r&&"object"===typeof r)return r.v}},R=function(){for(var n=function(n){if(J.includes(n))return"continue";var t=[n+9,n+2,n+18,n+18+1,n+18+2],r=c[n+2],e=c[n+2]===S;return t.every((function(n){return c[n]===r&&!e}))?(I((function(n){return n+5})),t.forEach((function(n){return c[n]=S})),{v:!0}):void 0},t=0;t<63;t++){var r=n(t);if("continue"!==r&&"object"===typeof r)return r.v}},T=function(){for(var n=function(n){if(J.includes(n))return"continue";var t=[n+1,n+18,n+18+1,n+18+2,n+9+1],r=c[n+1],e=c[n+1]===S;return t.every((function(n){return c[n]===r&&!e}))?(I((function(n){return n+5})),t.forEach((function(n){return c[n]=S})),{v:!0}):void 0},t=0;t<63;t++){var r=n(t);if("continue"!==r&&"object"===typeof r)return r.v}},U=function(){for(var n=function(n){if(J.includes(n))return"continue";var t=[n,n+1,n+2,n+9+1,n+18+1],r=c[n],e=c[n]===S;return t.every((function(n){return c[n]===r&&!e}))?(I((function(n){return n+5})),t.forEach((function(n){return c[n]=S})),{v:!0}):void 0},t=0;t<63;t++){var r=n(t);if("continue"!==r&&"object"===typeof r)return r.v}},V=function(){for(var n=function(n){if(J.includes(n))return"continue";var t=[n,n+9,n+18,n+18+1,n+18+2],r=c[n],e=c[n]===S;return t.every((function(n){return c[n]===r&&!e}))?(I((function(n){return n+5})),t.forEach((function(n){return c[n]=S})),{v:!0}):void 0},t=0;t<63;t++){var r=n(t);if("continue"!==r&&"object"===typeof r)return r.v}},W=function(){for(var n=function(n){if(J.includes(n))return"continue";var t=[n+18,n+18+1,n+18+2,n+2,n+9],r=c[n+2],e=c[n+2]===S;return t.every((function(n){return c[n]===r&&!e}))?(I((function(n){return n+5})),t.forEach((function(n){return c[n]=S})),{v:!0}):void 0},t=0;t<63;t++){var r=n(t);if("continue"!==r&&"object"===typeof r)return r.v}},X=function(){for(var n=function(n){if(J.includes(n))return"continue";var t=[n,n+1,n+2,n+9,n+18],r=c[n],e=c[n]===S;return t.every((function(n){return c[n]===r&&!e}))?(I((function(n){return n+5})),t.forEach((function(n){return c[n]=S})),{v:!0}):void 0},t=0;t<63;t++){var r=n(t);if("continue"!==r&&"object"===typeof r)return r.v}},Y=function(){for(var n=function(n){if(J.includes(n))return"continue";var t=[n,n+1,n+2,n+2+9,n+2+18],r=c[n],e=c[n]===S;return t.every((function(n){return c[n]===r&&!e}))?(I((function(n){return n+5})),t.forEach((function(n){return c[n]=S})),{v:!0}):void 0},t=0;t<63;t++){var r=n(t);if("continue"!==r&&"object"===typeof r)return r.v}},Z=function(){for(var n=function(n){var t=[n,n+9,n+18,n+27,n+36],r=c[n],e=c[n]===S;if(t.every((function(n){return c[n]===r&&!e})))return I((function(n){return n+5})),t.forEach((function(n){return c[n]=S})),{v:!0}},t=0;t<45;t++){var r=n(t);if("object"===typeof r)return r.v}},$=function(){for(var n=function(n){if(K.includes(n))return"continue";var t=[n,n+1,n+2,n+3,n+4],r=c[n],e=c[n]===S;return t.every((function(n){return c[n]===r&&!e}))?(I((function(n){return n+5})),t.forEach((function(n){return c[n]=S})),{v:!0}):void 0},t=0;t<81;t++){var r=n(t);if("continue"!==r&&"object"===typeof r)return r.v}},_=function(){for(var n=function(n){var t=[n,n+9,n+18,n+27],r=c[n],e=c[n]===S;if(t.every((function(n){return c[n]===r&&!e})))return I((function(n){return n+4})),t.forEach((function(n){return c[n]=S})),{v:!0}},t=0;t<54;t++){var r=n(t);if("object"===typeof r)return r.v}},nn=function(){for(var n=function(n){if(z.includes(n))return"continue";var t=[n,n+1,n+2,n+3],r=c[n],e=c[n]===S;return t.every((function(n){return c[n]===r&&!e}))?(I((function(n){return n+4})),t.forEach((function(n){return c[n]=S})),{v:!0}):void 0},t=0;t<81;t++){var r=n(t);if("continue"!==r&&"object"===typeof r)return r.v}},tn=function(){for(var n=function(n){var t=[n,n+9,n+18],r=c[n],e=c[n]===S;if(t.every((function(n){return c[n]===r&&!e})))return I((function(n){return n+3})),t.forEach((function(n){return c[n]=S})),{v:!0}},t=0;t<63;t++){var r=n(t);if("object"===typeof r)return r.v}},rn=function(){for(var n=function(n){if(J.includes(n))return"continue";var t=[n,n+1,n+2],r=c[n],e=c[n]===S;return t.every((function(n){return c[n]===r&&!e}))?(I((function(n){return n+3})),t.forEach((function(n){return c[n]=S})),{v:!0}):void 0},t=0;t<81;t++){var r=n(t);if("continue"!==r&&"object"===typeof r)return r.v}},en=function(){for(var t=0;t<72;t++){if(H.includes(t)&&c[t]===S){var r=Math.floor(Math.random()*n.length);c[t]=n[r]}c[t+9]===S&&(c[t+9]=c[t],c[t]=S),X(),Y(),V(),W(),Q(),R(),T(),U(),Z(),$(),_(),nn(),tn(),rn()}},cn=function(n){v(n.target)},un=function(n){D(n.target)},on=function(n){var t=parseInt(s.getAttribute("data-id"));if(j){var r=parseInt(j.getAttribute("data-id"));c[r]=s.getAttribute("src"),c[t]=j.getAttribute("src");var e=[t-1,t-9,t+1,t+9].includes(r);if(r&&e){var o=X(),a=Y(),f=W(),d=V(),l=Q(),b=R(),p=T(),h=U(),y=Z(),O=$(),g=_(),m=nn(),x=tn(),E=rn();if(y||O||g||m||x||E||o||a||f||d||l||b||p||h){if(v(null),D(null),G((function(n){return n-1})),!B)return"Game Over!"}else c[r]=j.getAttribute("src"),c[t]=s.getAttribute("src"),u(Object(i.a)(c))}else c[r]=j.getAttribute("src"),c[t]=s.getAttribute("src"),u(Object(i.a)(c))}},an=function(){if(!B)return!1};return Object(e.useEffect)((function(){!function(){console.log(9);for(var t=[],r=0;r<81;r++){var e=n[Math.floor(Math.random()*n.length)];e!==t[r-1]||e!==t[r-2]&&e!==t[r+1]?e===t[r+1]&&e===t[r+2]||e===t[r-9]&&(e===t[r-18]||e===t[r+9])||e===t[r+9]&&e===t[r+18]?r--:t[r]=e:r--}u(t)}()}),[]),Object(e.useEffect)((function(){var n=setInterval((function(){X(),Y(),V(),W(),Q(),R(),T(),U(),Z(),$(),_(),nn(),tn(),rn(),en(),u(Object(i.a)(c))}),30);return function(){return clearInterval(n)}}),[X,Y,V,W,Q,R,T,U,Z,$,_,nn,tn,rn,en,c]),Object(b.jsxs)("div",{className:"app",children:[Object(b.jsxs)("div",{className:"game",children:[Object(b.jsx)(h,{score:w,moves:B}),c.map((function(n,t){return Object(b.jsx)("img",{src:n,alt:n,"data-id":t,draggable:an(),onDragStart:cn,onDragOver:function(n){return n.preventDefault()},onDragEnter:function(n){return n.preventDefault()},onDragLeave:function(n){return n.preventDefault()},onDrop:un,onDragEnd:on,className:"candy",style:{width:String(100/9)+"%",height:String(100/9)+"%"}},t)}))]}),Object(b.jsx)(p,{score:w,moves:B})]})};o.a.render(Object(b.jsx)(c.a.StrictMode,{children:Object(b.jsx)(D,{})}),document.getElementById("root"))}},[[47,1,2]]]);
//# sourceMappingURL=main.e905768b.chunk.js.map